<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartVision AI – Intelligent Image & Data Analysis System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #7209b7;
            --accent: #f72585;
            --success: #4cc9f0;
            --warning: #f8961e;
            --danger: #f94144;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --card-bg: #ffffff;
            --sidebar-bg: #1a1d29;
            --transition: all 0.3s ease;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 10px 40px rgba(0, 0, 0, 0.12);
            --radius: 12px;
            --radius-sm: 8px;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 250px;
            background: var(--sidebar-bg);
            color: white;
            padding: 25px 0;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow);
            z-index: 100;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .logo {
            display: flex;
            align-items: center;
            padding: 0 25px 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 25px;
        }

        .logo-icon {
            font-size: 28px;
            color: var(--success);
            margin-right: 12px;
        }

        .logo h1 {
            font-size: 22px;
            font-weight: 700;
            background: linear-gradient(90deg, #4cc9f0, #4361ee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo span {
            font-size: 12px;
            color: var(--gray);
            font-weight: 400;
            display: block;
            margin-top: 4px;
        }

        .nav-links {
            flex: 1;
            padding: 0 15px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 14px 20px;
            margin-bottom: 8px;
            border-radius: var(--radius-sm);
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
        }

        .nav-item:hover, .nav-item.active {
            background: rgba(67, 97, 238, 0.15);
            color: white;
            border-left: 3px solid var(--primary);
        }

        .nav-item i {
            margin-right: 12px;
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        .user-info {
            padding: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
        }

        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 12px;
            font-size: 18px;
        }

        .user-details h4 {
            font-size: 15px;
            margin-bottom: 4px;
        }

        .user-details p {
            font-size: 12px;
            color: var(--gray);
        }

        /* Main Content Styles */
        .main-content {
            flex: 1;
            margin-left: 250px;
            padding: 25px;
            max-width: calc(100% - 250px);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--light-gray);
        }

        .page-title h2 {
            font-size: 28px;
            font-weight: 700;
            color: var(--dark);
        }

        .page-title p {
            color: var(--gray);
            margin-top: 5px;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .search-bar {
            position: relative;
            width: 300px;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 20px 12px 45px;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius);
            background: white;
            font-size: 14px;
            transition: var(--transition);
        }

        .search-bar input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.1);
        }

        .search-bar i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .notification-btn {
            position: relative;
            background: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--dark);
            text-decoration: none;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .notification-btn:hover {
            background: var(--primary);
            color: white;
        }

        .notification-badge {
            position: absolute;
            top: -3px;
            right: -3px;
            background: var(--danger);
            color: white;
            font-size: 10px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Dashboard Cards */
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-left: 5px solid var(--primary);
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .stat-card:nth-child(2) {
            border-left-color: var(--secondary);
        }

        .stat-card:nth-child(3) {
            border-left-color: var(--success);
        }

        .stat-card:nth-child(4) {
            border-left-color: var(--accent);
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            color: white;
        }

        .stat-card:nth-child(1) .stat-icon {
            background: linear-gradient(135deg, var(--primary), #5a7eff);
        }

        .stat-card:nth-child(2) .stat-icon {
            background: linear-gradient(135deg, var(--secondary), #8a2be2);
        }

        .stat-card:nth-child(3) .stat-icon {
            background: linear-gradient(135deg, var(--success), #6dd5ed);
        }

        .stat-card:nth-child(4) .stat-icon {
            background: linear-gradient(135deg, var(--accent), #ff4081);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 14px;
            color: var(--gray);
        }

        .stat-trend {
            display: flex;
            align-items: center;
            font-size: 13px;
            margin-top: 10px;
        }

        .trend-up {
            color: #2ecc71;
        }

        .trend-down {
            color: var(--danger);
        }

        /* Main Content Area */
        .content-area {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 25px;
        }

        @media (max-width: 1200px) {
            .content-area {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 25px;
            box-shadow: var(--shadow);
            margin-bottom: 25px;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .card-title {
            font-size: 20px;
            font-weight: 600;
        }

        .card-actions {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: var(--radius-sm);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
        }

        .btn-outline:hover {
            background: rgba(67, 97, 238, 0.1);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: #3ab8d9;
        }

        /* Image Analysis Section */
        .upload-area {
            border: 3px dashed var(--light-gray);
            border-radius: var(--radius);
            padding: 50px 30px;
            text-align: center;
            margin-bottom: 25px;
            transition: var(--transition);
            background: rgba(248, 249, 250, 0.5);
        }

        .upload-area.dragover {
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.05);
        }

        .upload-area i {
            font-size: 60px;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .upload-area h3 {
            margin-bottom: 10px;
        }

        .upload-area p {
            color: var(--gray);
            margin-bottom: 20px;
        }

        .file-input {
            display: none;
        }

        .file-label {
            background: var(--primary);
            color: white;
            padding: 12px 30px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            transition: var(--transition);
        }

        .file-label:hover {
            background: var(--primary-dark);
        }

        .preview-container {
            display: none;
            margin-top: 25px;
            text-align: center;
        }

        .image-preview {
            max-width: 100%;
            max-height: 400px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-bottom: 20px;
        }

        /* Analysis Controls */
        .analysis-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .analysis-option {
            padding: 10px 20px;
            background: var(--light-gray);
            border-radius: 30px;
            cursor: pointer;
            font-size: 14px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .analysis-option.active, .analysis-option:hover {
            background: var(--primary);
            color: white;
        }

        /* Results Display */
        .results-container {
            display: none;
        }

        .result-section {
            margin-bottom: 30px;
        }

        .result-section h4 {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--light-gray);
            color: var(--primary);
        }

        .detected-objects {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .object-tag {
            background: rgba(67, 97, 238, 0.1);
            color: var(--primary);
            padding: 8px 15px;
            border-radius: 30px;
            font-size: 13px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .confidence-bar {
            height: 6px;
            background: var(--light-gray);
            border-radius: 3px;
            margin-top: 5px;
            overflow: hidden;
        }

        .confidence-fill {
            height: 100%;
            background: var(--success);
            border-radius: 3px;
        }

        .face-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .face-card {
            background: var(--light-gray);
            border-radius: var(--radius-sm);
            padding: 15px;
            text-align: center;
        }

        .face-emoji {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .chart-container {
            position: relative;
            height: 250px;
            margin-top: 15px;
        }

        /* Activity Feed */
        .activity-list {
            list-style: none;
        }

        .activity-item {
            display: flex;
            padding: 15px 0;
            border-bottom: 1px solid var(--light-gray);
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .activity-icon.upload {
            background: rgba(67, 97, 238, 0.1);
            color: var(--primary);
        }

        .activity-icon.analysis {
            background: rgba(76, 201, 240, 0.1);
            color: var(--success);
        }

        .activity-icon.detection {
            background: rgba(114, 9, 183, 0.1);
            color: var(--secondary);
        }

        .activity-details h5 {
            margin-bottom: 5px;
        }

        .activity-time {
            font-size: 12px;
            color: var(--gray);
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--light-gray);
            margin-bottom: 20px;
        }

        .tab {
            padding: 12px 25px;
            cursor: pointer;
            font-weight: 600;
            color: var(--gray);
            border-bottom: 3px solid transparent;
            transition: var(--transition);
        }

        .tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 20px;
            color: var(--gray);
            font-size: 14px;
            border-top: 1px solid var(--light-gray);
            margin-top: 40px;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
                padding: 20px 0;
            }
            
            .sidebar .logo h1, .sidebar .user-details, .sidebar .nav-item span {
                display: none;
            }
            
            .sidebar .logo {
                justify-content: center;
                padding: 0 0 20px;
            }
            
            .logo-icon {
                margin-right: 0;
            }
            
            .nav-item {
                justify-content: center;
                padding: 15px;
            }
            
            .nav-item i {
                margin-right: 0;
            }
            
            .user-info {
                justify-content: center;
            }
            
            .user-avatar {
                margin-right: 0;
            }
            
            .main-content {
                margin-left: 70px;
                max-width: calc(100% - 70px);
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            .stats-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .search-bar {
                width: 100%;
            }
        }

        @media (max-width: 576px) {
            .stats-cards {
                grid-template-columns: 1fr;
            }
            
            .content-area {
                gap: 15px;
            }
            
            .card {
                padding: 20px;
            }
        }

        /* Loading Spinner */
        .spinner {
            display: none;
            text-align: center;
            padding: 30px;
        }

        .spinner i {
            font-size: 40px;
            color: var(--primary);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Object Detection Overlay */
        .detection-overlay {
            position: relative;
            display: inline-block;
        }

        .detection-box {
            position: absolute;
            border: 2px solid;
            border-radius: 4px;
            background: rgba(0,0,0,0.2);
            font-size: 12px;
            font-weight: bold;
            padding: 2px 5px;
            color: white;
            white-space: nowrap;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-eye"></i>
                </div>
                <div>
                    <h1>SmartVision AI</h1>
                    <span>Intelligent Analysis System</span>
                </div>
            </div>
            
            <div class="nav-links">
                <a href="#" class="nav-item active" data-tab="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-tab="image-analysis">
                    <i class="fas fa-image"></i>
                    <span>Image Analysis</span>
                </a>
                <a href="#" class="nav-item" data-tab="video-analysis">
                    <i class="fas fa-video"></i>
                    <span>Video Analytics</span>
                </a>
                <a href="#" class="nav-item" data-tab="data-analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Data Analytics</span>
                </a>
                <a href="#" class="nav-item" data-tab="models">
                    <i class="fas fa-robot"></i>
                    <span>AI Models</span>
                </a>
                <a href="#" class="nav-item" data-tab="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </div>
            
            <div class="user-info">
                <div class="user-avatar">AJ</div>
                <div class="user-details">
                    <h4>Admin User</h4>
                    <p>Administrator</p>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="page-title">
                    <h2 id="page-title">Dashboard</h2>
                    <p id="page-subtitle">Welcome to SmartVision AI System</p>
                </div>
                
                <div class="header-actions">
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-input" placeholder="Search images, analyses, reports...">
                    </div>
                    
                    <a href="#" class="notification-btn">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </a>
                </div>
            </div>
            
            <!-- Dashboard Tab -->
            <div id="dashboard" class="tab-content active">
                <!-- Stats Cards -->
                <div class="stats-cards">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <div class="stat-value" id="total-images">1,247</div>
                                <div class="stat-label">Total Images Analyzed</div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-images"></i>
                            </div>
                        </div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>12% increase this month</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <div class="stat-value" id="total-analyses">3,892</div>
                                <div class="stat-label">Total Analyses Performed</div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                        </div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>8% increase this month</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <div class="stat-value" id="accuracy-rate">96.5%</div>
                                <div class="stat-label">Average Accuracy Rate</div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-bullseye"></i>
                            </div>
                        </div>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>2.3% improvement</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-header">
                            <div>
                                <div class="stat-value" id="storage-used">4.7 GB</div>
                                <div class="stat-label">Storage Used</div>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-database"></i>
                            </div>
                        </div>
                        <div class="stat-trend trend-down">
                            <i class="fas fa-arrow-down"></i>
                            <span>15% free space available</span>
                        </div>
                    </div>
                </div>
                
                <!-- Main Content Area -->
                <div class="content-area">
                    <div class="main-column">
                        <!-- Recent Analyses -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Recent Image Analyses</h3>
                                <div class="card-actions">
                                    <button class="btn btn-outline">
                                        <i class="fas fa-history"></i>
                                        View All
                                    </button>
                                </div>
                            </div>
                            
                            <div class="recent-analyses">
                                <div class="analysis-item">
                                    <div class="analysis-preview">
                                        <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb" alt="Analysis Preview" style="width: 80px; height: 80px; border-radius: 8px; object-fit: cover;">
                                    </div>
                                    <div class="analysis-details">
                                        <h5>Mountain Landscape.jpg</h5>
                                        <p>Detected: mountains, trees, sky, clouds</p>
                                        <div class="analysis-meta">
                                            <span class="analysis-time">2 hours ago</span>
                                            <span class="analysis-confidence">98% confidence</span>
                                        </div>
                                    </div>
                                    <div class="analysis-actions">
                                        <button class="btn btn-outline btn-sm">
                                            <i class="fas fa-redo"></i>
                                            Re-analyze
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="analysis-item">
                                    <div class="analysis-preview">
                                        <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba" alt="Analysis Preview" style="width: 80px; height: 80px; border-radius: 8px; object-fit: cover;">
                                    </div>
                                    <div class="analysis-details">
                                        <h5>City Street at Night.jpg</h5>
                                        <p>Detected: buildings, cars, street lights, people</p>
                                        <div class="analysis-meta">
                                            <span class="analysis-time">5 hours ago</span>
                                            <span class="analysis-confidence">94% confidence</span>
                                        </div>
                                    </div>
                                    <div class="analysis-actions">
                                        <button class="btn btn-outline btn-sm">
                                            <i class="fas fa-redo"></i>
                                            Re-analyze
                                        </button>
                                    </div>
                                </div>
                                
                                <div class="analysis-item">
                                    <div class="analysis-preview">
                                        <img src="https://images.unsplash.com/photo-1541963463532-d68292c34b19" alt="Analysis Preview" style="width: 80px; height: 80px; border-radius: 8px; object-fit: cover;">
                                    </div>
                                    <div class="analysis-details">
                                        <h5>Office Workspace.jpg</h5>
                                        <p>Detected: laptop, desk, chair, books, coffee cup</p>
                                        <div class="analysis-meta">
                                            <span class="analysis-time">1 day ago</span>
                                            <span class="analysis-confidence">96% confidence</span>
                                        </div>
                                    </div>
                                    <div class="analysis-actions">
                                        <button class="btn btn-outline btn-sm">
                                            <i class="fas fa-redo"></i>
                                            Re-analyze
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Analytics Chart -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Analytics Overview</h3>
                                <div class="card-actions">
                                    <select id="chart-period" class="btn btn-outline">
                                        <option>Last 7 days</option>
                                        <option>Last 30 days</option>
                                        <option>Last 3 months</option>
                                    </select>
                                </div>
                            </div>
                            <div class="chart-container">
                                <canvas id="analyticsChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div class="sidebar-column">
                        <!-- Activity Feed -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Recent Activity</h3>
                            </div>
                            
                            <ul class="activity-list" id="activity-list">
                                <li class="activity-item">
                                    <div class="activity-icon upload">
                                        <i class="fas fa-upload"></i>
                                    </div>
                                    <div class="activity-details">
                                        <h5>Image uploaded</h5>
                                        <p>street_view.jpg by Admin User</p>
                                        <span class="activity-time">10 minutes ago</span>
                                    </div>
                                </li>
                                
                                <li class="activity-item">
                                    <div class="activity-icon analysis">
                                        <i class="fas fa-brain"></i>
                                    </div>
                                    <div class="activity-details">
                                        <h5>Analysis completed</h5>
                                        <p>Object detection on landscape.jpg</p>
                                        <span class="activity-time">45 minutes ago</span>
                                    </div>
                                </li>
                                
                                <li class="activity-item">
                                    <div class="activity-icon detection">
                                        <i class="fas fa-user-friends"></i>
                                    </div>
                                    <div class="activity-details">
                                        <h5>Face detection</h5>
                                        <p>5 faces detected in group_photo.jpg</p>
                                        <span class="activity-time">2 hours ago</span>
                                    </div>
                                </li>
                                
                                <li class="activity-item">
                                    <div class="activity-icon upload">
                                        <i class="fas fa-file-export"></i>
                                    </div>
                                    <div class="activity-details">
                                        <h5>Report generated</h5>
                                        <p>Weekly analysis report exported</p>
                                        <span class="activity-time">5 hours ago</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        
                        <!-- System Status -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">System Status</h3>
                            </div>
                            
                            <div class="status-list">
                                <div class="status-item">
                                    <div class="status-label">AI Models</div>
                                    <div class="status-value active">
                                        <i class="fas fa-circle"></i>
                                        Operational
                                    </div>
                                </div>
                                
                                <div class="status-item">
                                    <div class="status-label">API Service</div>
                                    <div class="status-value active">
                                        <i class="fas fa-circle"></i>
                                        Operational
                                    </div>
                                </div>
                                
                                <div class="status-item">
                                    <div class="status-label">Database</div>
                                    <div class="status-value active">
                                        <i class="fas fa-circle"></i>
                                        Operational
                                    </div>
                                </div>
                                
                                <div class="status-item">
                                    <div class="status-label">Storage</div>
                                    <div class="status-value warning">
                                        <i class="fas fa-circle"></i>
                                        65% Used
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Image Analysis Tab -->
            <div id="image-analysis" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Upload & Analyze Image</h3>
                        <div class="card-actions">
                            <button class="btn btn-outline" id="sample-images-btn">
                                <i class="fas fa-images"></i>
                                Use Sample Images
                            </button>
                        </div>
                    </div>
                    
                    <div class="upload-area" id="upload-area">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <h3>Drag & Drop Your Image Here</h3>
                        <p>or click to browse files (JPG, PNG, GIF, WEBP up to 10MB)</p>
                        <input type="file" id="file-input" class="file-input" accept="image/*">
                        <label for="file-input" class="file-label">
                            <i class="fas fa-folder-open"></i>
                            Browse Images
                        </label>
                    </div>
                    
                    <div class="preview-container" id="preview-container">
                        <div class="detection-overlay">
                            <img id="image-preview" class="image-preview" src="" alt="Image Preview">
                        </div>
                        <div class="image-info">
                            <span id="image-name"></span>
                            <span id="image-size"></span>
                        </div>
                    </div>
                    
                    <!-- Analysis Controls -->
                    <div class="analysis-controls" id="analysis-controls">
                        <div class="analysis-option active" data-analysis="objects">
                            <i class="fas fa-search"></i>
                            Object Detection
                        </div>
                        <div class="analysis-option" data-analysis="faces">
                            <i class="fas fa-user-friends"></i>
                            Face Analysis
                        </div>
                        <div class="analysis-option" data-analysis="text">
                            <i class="fas fa-font"></i>
                            Text Recognition
                        </div>
                        <div class="analysis-option" data-analysis="classification">
                            <i class="fas fa-tags"></i>
                            Image Classification
                        </div>
                        <div class="analysis-option" data-analysis="all">
                            <i class="fas fa-cogs"></i>
                            Full Analysis
                        </div>
                    </div>
                    
                    <!-- Analysis Button -->
                    <div class="analysis-action">
                        <button class="btn btn-primary btn-lg" id="analyze-btn">
                            <i class="fas fa-brain"></i>
                            Start AI Analysis
                        </button>
                    </div>
                    
                    <!-- Loading Spinner -->
                    <div class="spinner" id="loading-spinner">
                        <i class="fas fa-spinner"></i>
                        <p>Analyzing image with AI... This may take a moment.</p>
                    </div>
                    
                    <!-- Results Display -->
                    <div class="results-container" id="results-container">
                        <h3>Analysis Results</h3>
                        
                        <div class="tabs">
                            <div class="tab active" data-result-tab="summary">Summary</div>
                            <div class="tab" data-result-tab="objects">Objects</div>
                            <div class="tab" data-result-tab="faces">Faces</div>
                            <div class="tab" data-result-tab="text">Text</div>
                            <div class="tab" data-result-tab="data">Data</div>
                        </div>
                        
                        <!-- Results Content -->
                        <div class="tab-content active" data-result-content="summary">
                            <div class="result-summary">
                                <div class="summary-stats">
                                    <div class="summary-stat">
                                        <div class="stat-value" id="total-objects">0</div>
                                        <div class="stat-label">Objects Detected</div>
                                    </div>
                                    <div class="summary-stat">
                                        <div class="stat-value" id="total-faces">0</div>
                                        <div class="stat-label">Faces Found</div>
                                    </div>
                                    <div class="summary-stat">
                                        <div class="stat-value" id="text-found">No</div>
                                        <div class="stat-label">Text Detected</div>
                                    </div>
                                    <div class="summary-stat">
                                        <div class="stat-value" id="primary-category">-</div>
                                        <div class="stat-label">Primary Category</div>
                                    </div>
                                </div>
                                
                                <div class="key-findings">
                                    <h4>Key Findings</h4>
                                    <div id="key-findings-list">
                                        <!-- Key findings will be populated here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-content" data-result-content="objects">
                            <div class="result-section">
                                <h4>Detected Objects</h4>
                                <div class="detected-objects" id="detected-objects">
                                    <!-- Detected objects will be populated here -->
                                </div>
                            </div>
                            
                            <div class="result-section">
                                <h4>Object Distribution</h4>
                                <div class="chart-container">
                                    <canvas id="objectsChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-content" data-result-content="faces">
                            <div class="result-section">
                                <h4>Detected Faces</h4>
                                <div class="face-grid" id="face-grid">
                                    <!-- Face cards will be populated here -->
                                </div>
                            </div>
                            
                            <div class="result-section">
                                <h4>Face Analysis Summary</h4>
                                <div class="chart-container">
                                    <canvas id="facesChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-content" data-result-content="text">
                            <div class="result-section">
                                <h4>Extracted Text</h4>
                                <div class="text-content" id="extracted-text">
                                    <!-- Extracted text will be populated here -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="tab-content" data-result-content="data">
                            <div class="result-section">
                                <h4>Analysis Data</h4>
                                <pre id="analysis-data">{
    "analysis_id": "SV-001",
    "timestamp": "2023-10-15T14:30:00Z",
    "image_properties": {
        "dimensions": "1920x1080",
        "format": "JPEG",
        "size": "2.4 MB"
    },
    "processing_time": "1.8 seconds",
    "ai_models_used": [
        "YOLOv8",
        "FaceNet",
        "EasyOCR",
        "ResNet-50"
    ]
}</pre>
                            </div>
                            
                            <div class="result-actions">
                                <button class="btn btn-outline">
                                    <i class="fas fa-download"></i>
                                    Download JSON Report
                                </button>
                                <button class="btn btn-primary">
                                    <i class="fas fa-share-alt"></i>
                                    Share Results
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Video Analysis Tab -->
            <div id="video-analysis" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Video Analytics</h3>
                    </div>
                    
                    <div class="video-upload-area">
                        <i class="fas fa-video"></i>
                        <h3>Upload Video for Analysis</h3>
                        <p>Supports MP4, MOV, AVI up to 100MB</p>
                        <button class="btn btn-primary">
                            <i class="fas fa-upload"></i>
                            Upload Video
                        </button>
                    </div>
                    
                    <div class="video-features">
                        <h4>Video Analysis Features</h4>
                        <div class="features-grid">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-user-friends"></i>
                                </div>
                                <h5>Person Tracking</h5>
                                <p>Track individuals across video frames</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-car"></i>
                                </div>
                                <h5>Vehicle Detection</h5>
                                <p>Identify and classify vehicles</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <h5>Anomaly Detection</h5>
                                <p>Detect unusual activities or events</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <h5>Activity Analysis</h5>
                                <p>Analyze patterns and behaviors</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Other tabs would be here -->
            
            <!-- Footer -->
            <div class="footer">
                <p>SmartVision AI – Intelligent Image & Data Analysis System v2.1</p>
                <p>© 2023 SmartVision AI. All rights reserved. | <a href="#" style="color: var(--primary); text-decoration: none;">Privacy Policy</a> | <a href="#" style="color: var(--primary); text-decoration: none;">Terms of Service</a></p>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentImage = null;
        let analysisResults = null;
        let detectionBoxes = [];

        // Sample data for demonstrations
        const sampleImages = [
            { 
                name: "Mountain Landscape", 
                url: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=800&h=600&fit=crop",
                objects: ["mountain", "tree", "sky", "cloud", "grass"],
                faces: 0,
                text: false,
                category: "landscape"
            },
            { 
                name: "City Street", 
                url: "https://images.unsplash.com/photo-1519681393784-d120267933ba?w=800&h=600&fit=crop",
                objects: ["building", "car", "street light", "person", "road"],
                faces: 3,
                text: true,
                category: "urban"
            },
            { 
                name: "Office Workspace", 
                url: "https://images.unsplash.com/photo-1541963463532-d68292c34b19?w-800&h=600&fit=crop",
                objects: ["laptop", "desk", "chair", "book", "coffee cup"],
                faces: 1,
                text: true,
                category: "indoor"
            }
        ];

        // Page initialization
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
            initializeImageAnalysis();
            setupEventListeners();
            
            // Load dashboard chart
            setTimeout(() => {
                loadDashboardChart();
            }, 500);
        });

        // Initialize Dashboard
        function initializeDashboard() {
            // Update stats with animation
            animateValue('total-images', 1247, 1500);
            animateValue('total-analyses', 3892, 1500);
            animateValue('accuracy-rate', 96.5, 1500, true);
            animateValue('storage-used', 4.7, 1500, false, ' GB');
        }

        // Initialize Image Analysis
        function initializeImageAnalysis() {
            const uploadArea = document.getElementById('upload-area');
            const fileInput = document.getElementById('file-input');
            
            // Drag and drop functionality
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                
                if (e.dataTransfer.files.length) {
                    handleImageUpload(e.dataTransfer.files[0]);
                }
            });
            
            // File input change
            fileInput.addEventListener('change', (e) => {
                if (e.target.files.length) {
                    handleImageUpload(e.target.files[0]);
                }
            });
            
            // Sample images button
            document.getElementById('sample-images-btn').addEventListener('click', () => {
                showSampleImages();
            });
            
            // Analyze button
            document.getElementById('analyze-btn').addEventListener('click', () => {
                analyzeImage();
            });
            
            // Analysis options
            document.querySelectorAll('.analysis-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.analysis-option').forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Result tabs
            document.querySelectorAll('.tab[data-result-tab]').forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-result-tab');
                    switchResultTab(tabName);
                });
            });
        }

        // Setup event listeners for navigation
        function setupEventListeners() {
            // Navigation tabs
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    e.preventDefault();
                    const tabId = this.getAttribute('data-tab');
                    switchTab(tabId);
                });
            });
            
            // Search functionality
            document.getElementById('search-input').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                // In a real app, this would filter content
                console.log('Searching for:', searchTerm);
            });
        }

        // Switch between main tabs
        function switchTab(tabId) {
            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-tab') === tabId) {
                    item.classList.add('active');
                }
            });
            
            // Update page title
            const titles = {
                'dashboard': { title: 'Dashboard', subtitle: 'Welcome to SmartVision AI System' },
                'image-analysis': { title: 'Image Analysis', subtitle: 'Upload and analyze images with AI' },
                'video-analysis': { title: 'Video Analytics', subtitle: 'Analyze video content with computer vision' },
                'data-analytics': { title: 'Data Analytics', subtitle: 'Visualize and explore analysis data' },
                'models': { title: 'AI Models', subtitle: 'Manage and train AI models' },
                'settings': { title: 'Settings', subtitle: 'Configure system preferences' }
            };
            
            document.getElementById('page-title').textContent = titles[tabId].title;
            document.getElementById('page-subtitle').textContent = titles[tabId].subtitle;
            
            // Show selected tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            document.getElementById(tabId).classList.add('active');
            
            // If switching to dashboard, reload the chart
            if (tabId === 'dashboard') {
                setTimeout(() => {
                    loadDashboardChart();
                }, 100);
            }
        }

        // Handle image upload
        function handleImageUpload(file) {
            // Validate file type
            if (!file.type.match('image.*')) {
                alert('Please select an image file (JPG, PNG, GIF, WEBP)');
                return;
            }
            
            // Validate file size (10MB limit)
            if (file.size > 10 * 1024 * 1024) {
                alert('File size exceeds 10MB limit');
                return;
            }
            
            currentImage = file;
            
            // Show preview
            const reader = new FileReader();
            reader.onload = function(e) {
                const previewContainer = document.getElementById('preview-container');
                const imagePreview = document.getElementById('image-preview');
                const imageName = document.getElementById('image-name');
                const imageSize = document.getElementById('image-size');
                
                imagePreview.src = e.target.result;
                imageName.textContent = file.name;
                imageSize.textContent = formatFileSize(file.size);
                
                previewContainer.style.display = 'block';
                document.getElementById('analysis-controls').style.display = 'flex';
                document.getElementById('analyze-btn').style.display = 'block';
                document.getElementById('results-container').style.display = 'none';
                
                // Reset detection boxes
                detectionBoxes = [];
                clearDetectionOverlay();
            };
            
            reader.readAsDataURL(file);
        }

        // Show sample images for selection
        function showSampleImages() {
            // Create modal for sample images
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            modal.innerHTML = `
                <div style="background: white; padding: 30px; border-radius: 12px; max-width: 800px; width: 90%; max-height: 80vh; overflow-y: auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3 style="margin: 0;">Choose a Sample Image</h3>
                        <button id="close-modal" style="background: none; border: none; font-size: 24px; cursor: pointer; color: #666;">&times;</button>
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px;">
                        ${sampleImages.map((img, index) => `
                            <div style="cursor: pointer; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1); transition: transform 0.3s;">
                                <img src="${img.url}" alt="${img.name}" style="width: 100%; height: 150px; object-fit: cover;">
                                <div style="padding: 15px;">
                                    <h4 style="margin: 0 0 5px;">${img.name}</h4>
                                    <p style="margin: 0; font-size: 12px; color: #666;">Contains: ${img.objects.slice(0, 2).join(', ')}...</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Add event listeners
            document.getElementById('close-modal').addEventListener('click', () => {
                document.body.removeChild(modal);
            });
            
            // Handle sample image selection
            modal.querySelectorAll('div > div > div').forEach((card, index) => {
                card.addEventListener('click', () => {
                    // Simulate loading the sample image
                    loadSampleImage(sampleImages[index]);
                    document.body.removeChild(modal);
                });
            });
            
            // Close modal on background click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    document.body.removeChild(modal);
                }
            });
        }

        // Load a sample image
        function loadSampleImage(sample) {
            // Create a fake file object for the sample
            const fakeFile = {
                name: sample.name + '.jpg',
                size: 2048000, // 2MB
                type: 'image/jpeg'
            };
            
            currentImage = fakeFile;
            
            // Show preview
            const previewContainer = document.getElementById('preview-container');
            const imagePreview = document.getElementById('image-preview');
            const imageName = document.getElementById('image-name');
            const imageSize = document.getElementById('image-size');
            
            imagePreview.src = sample.url;
            imageName.textContent = fakeFile.name;
            imageSize.textContent = formatFileSize(fakeFile.size);
            
            previewContainer.style.display = 'block';
            document.getElementById('analysis-controls').style.display = 'flex';
            document.getElementById('analyze-btn').style.display = 'block';
            document.getElementById('results-container').style.display = 'none';
            
            // Store sample data for analysis
            currentImage.sampleData = sample;
        }

        // Analyze the current image
        function analyzeImage() {
            if (!currentImage) {
                alert('Please upload an image first');
                return;
            }
            
            // Show loading spinner
            const spinner = document.getElementById('loading-spinner');
            const analyzeBtn = document.getElementById('analyze-btn');
            const resultsContainer = document.getElementById('results-container');
            
            spinner.style.display = 'block';
            analyzeBtn.style.display = 'none';
            resultsContainer.style.display = 'none';
            
            // Get selected analysis types
            const selectedAnalysis = document.querySelector('.analysis-option.active').getAttribute('data-analysis');
            
            // Simulate AI analysis (in a real app, this would call an API)
            setTimeout(() => {
                // Generate mock analysis results
                generateMockResults(selectedAnalysis);
                
                // Hide spinner and show results
                spinner.style.display = 'none';
                resultsContainer.style.display = 'block';
                
                // Update results display
                updateResultsDisplay();
                
                // Add to activity feed
                addActivityItem('analysis', `Analysis completed for ${currentImage.name || currentImage.sampleData.name}`);
                
                // Update dashboard stats
                incrementStat('total-analyses');
                
                // Scroll to results
                resultsContainer.scrollIntoView({ behavior: 'smooth' });
            }, 2000);
        }

        // Generate mock analysis results
        function generateMockResults(analysisType) {
            const isSample = currentImage.sampleData;
            const sampleData = isSample ? currentImage.sampleData : null;
            
            // Default mock data
            let mockResults = {
                objects: [
                    { name: 'person', confidence: 0.95 },
                    { name: 'car', confidence: 0.88 },
                    { name: 'tree', confidence: 0.76 },
                    { name: 'building', confidence: 0.92 },
                    { name: 'traffic light', confidence: 0.81 }
                ],
                faces: [
                    { age: 25, gender: 'male', emotion: 'happy', confidence: 0.91 },
                    { age: 32, gender: 'female', emotion: 'neutral', confidence: 0.87 },
                    { age: 45, gender: 'male', emotion: 'surprised', confidence: 0.79 }
                ],
                text: "Sample text extracted from image. This could be street signs, labels, or any text content present in the image.",
                classification: {
                    primary: 'urban',
                    categories: [
                        { name: 'urban', confidence: 0.92 },
                        { name: 'street', confidence: 0.85 },
                        { name: 'city', confidence: 0.78 }
                    ]
                },
                summary: {
                    objectCount: 5,
                    faceCount: 3,
                    hasText: true
                }
            };
            
            // If using sample image, use its data
            if (isSample) {
                mockResults = {
                    objects: sampleData.objects.map(obj => ({
                        name: obj,
                        confidence: 0.85 + Math.random() * 0.14
                    })),
                    faces: Array(sampleData.faces).fill(0).map(() => ({
                        age: 20 + Math.floor(Math.random() * 40),
                        gender: Math.random() > 0.5 ? 'male' : 'female',
                        emotion: ['happy', 'neutral', 'sad', 'surprised'][Math.floor(Math.random() * 4)],
                        confidence: 0.8 + Math.random() * 0.19
                    })),
                    text: sampleData.text ? "This is sample text extracted from the image. It could contain important information like signs, labels, or documents." : "",
                    classification: {
                        primary: sampleData.category,
                        categories: [
                            { name: sampleData.category, confidence: 0.95 },
                            { name: 'general', confidence: 0.7 }
                        ]
                    },
                    summary: {
                        objectCount: sampleData.objects.length,
                        faceCount: sampleData.faces,
                        hasText: sampleData.text
                    }
                };
            }
            
            // Filter based on analysis type
            if (analysisType === 'objects') {
                analysisResults = { objects: mockResults.objects, summary: { objectCount: mockResults.objects.length } };
            } else if (analysisType === 'faces') {
                analysisResults = { faces: mockResults.faces, summary: { faceCount: mockResults.faces.length } };
            } else if (analysisType === 'text') {
                analysisResults = { text: mockResults.text, summary: { hasText: !!mockResults.text } };
            } else if (analysisType === 'classification') {
                analysisResults = { classification: mockResults.classification };
            } else {
                analysisResults = mockResults;
            }
            
            // Add metadata
            analysisResults.metadata = {
                analysisId: 'SV-' + Date.now().toString().slice(-6),
                timestamp: new Date().toISOString(),
                imageName: currentImage.name || currentImage.sampleData.name,
                analysisType: analysisType,
                processingTime: (1.5 + Math.random()).toFixed(1) + ' seconds'
            };
        }

        // Update results display with analysis results
        function updateResultsDisplay() {
            // Update summary tab
            document.getElementById('total-objects').textContent = 
                analysisResults.summary?.objectCount || analysisResults.objects?.length || 0;
            document.getElementById('total-faces').textContent = 
                analysisResults.summary?.faceCount || analysisResults.faces?.length || 0;
            document.getElementById('text-found').textContent = 
                (analysisResults.summary?.hasText || analysisResults.text) ? 'Yes' : 'No';
            document.getElementById('primary-category').textContent = 
                analysisResults.classification?.primary || '-';
            
            // Update key findings
            const keyFindingsList = document.getElementById('key-findings-list');
            keyFindingsList.innerHTML = '';
            
            const findings = [];
            if (analysisResults.objects && analysisResults.objects.length > 0) {
                findings.push(`${analysisResults.objects.length} objects detected`);
            }
            if (analysisResults.faces && analysisResults.faces.length > 0) {
                findings.push(`${analysisResults.faces.length} faces analyzed`);
            }
            if (analysisResults.text) {
                findings.push('Text content extracted');
            }
            if (analysisResults.classification) {
                findings.push(`Classified as: ${analysisResults.classification.primary}`);
            }
            
            findings.forEach(finding => {
                const div = document.createElement('div');
                div.className = 'finding-item';
                div.innerHTML = `<i class="fas fa-check-circle" style="color: var(--success); margin-right: 8px;"></i> ${finding}`;
                keyFindingsList.appendChild(div);
            });
            
            // Update objects tab
            updateObjectsTab();
            
            // Update faces tab
            updateFacesTab();
            
            // Update text tab
            updateTextTab();
            
            // Update data tab
            updateDataTab();
            
            // Draw detection boxes on image
            drawDetectionBoxes();
            
            // Load charts
            setTimeout(() => {
                loadObjectsChart();
                loadFacesChart();
            }, 100);
        }

        // Update objects tab
        function updateObjectsTab() {
            const detectedObjectsContainer = document.getElementById('detected-objects');
            detectedObjectsContainer.innerHTML = '';
            
            if (!analysisResults.objects || analysisResults.objects.length === 0) {
                detectedObjectsContainer.innerHTML = '<p>No objects detected in this image.</p>';
                return;
            }
            
            analysisResults.objects.forEach(obj => {
                const tag = document.createElement('div');
                tag.className = 'object-tag';
                
                const confidencePercent = Math.round(obj.confidence * 100);
                const confidenceBar = `
                    <div class="confidence-bar">
                        <div class="confidence-fill" style="width: ${confidencePercent}%"></div>
                    </div>
                `;
                
                tag.innerHTML = `
                    <span>${obj.name}</span>
                    <span style="font-size: 11px; color: #666;">${confidencePercent}%</span>
                    ${confidenceBar}
                `;
                
                detectedObjectsContainer.appendChild(tag);
            });
        }

        // Update faces tab
        function updateFacesTab() {
            const faceGrid = document.getElementById('face-grid');
            faceGrid.innerHTML = '';
            
            if (!analysisResults.faces || analysisResults.faces.length === 0) {
                faceGrid.innerHTML = '<p>No faces detected in this image.</p>';
                return;
            }
            
            // Emotion to emoji mapping
            const emotionEmojis = {
                'happy': '😊',
                'neutral': '😐',
                'sad': '😔',
                'surprised': '😲',
                'angry': '😠',
                'fearful': '😨'
            };
            
            analysisResults.faces.forEach((face, index) => {
                const faceCard = document.createElement('div');
                faceCard.className = 'face-card fade-in';
                faceCard.style.animationDelay = `${index * 0.1}s`;
                
                const emoji = emotionEmojis[face.emotion] || '😐';
                
                faceCard.innerHTML = `
                    <div class="face-emoji">${emoji}</div>
                    <div style="font-weight: 600; margin-bottom: 5px;">${face.gender}, ${face.age}</div>
                    <div style="font-size: 12px; color: #666;">${face.emotion}</div>
                    <div style="font-size: 11px; margin-top: 8px; color: #999;">${Math.round(face.confidence * 100)}% confidence</div>
                `;
                
                faceGrid.appendChild(faceCard);
            });
        }

        // Update text tab
        function updateTextTab() {
            const extractedTextContainer = document.getElementById('extracted-text');
            
            if (!analysisResults.text) {
                extractedTextContainer.innerHTML = '<p>No text detected in this image.</p>';
                return;
            }
            
            extractedTextContainer.innerHTML = `
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid var(--primary);">
                    <p style="margin: 0; line-height: 1.6;">${analysisResults.text}</p>
                </div>
                <div style="margin-top: 15px; font-size: 14px; color: #666;">
                    <i class="fas fa-info-circle"></i> Text extracted using OCR (Optical Character Recognition)
                </div>
            `;
        }

        // Update data tab
        function updateDataTab() {
            const analysisDataContainer = document.getElementById('analysis-data');
            
            const dataToShow = {
                analysis_id: analysisResults.metadata.analysisId,
                timestamp: analysisResults.metadata.timestamp,
                image_name: analysisResults.metadata.imageName,
                analysis_type: analysisResults.metadata.analysisType,
                processing_time: analysisResults.metadata.processingTime,
                image_properties: {
                    size: currentImage.size ? formatFileSize(currentImage.size) : '2.4 MB',
                    type: currentImage.type || 'image/jpeg'
                },
                results_summary: {
                    objects_detected: analysisResults.objects?.length || 0,
                    faces_detected: analysisResults.faces?.length || 0,
                    text_detected: !!analysisResults.text
                },
                ai_models_used: ["YOLOv8", "FaceNet", "EasyOCR", "ResNet-50"]
            };
            
            analysisDataContainer.textContent = JSON.stringify(dataToShow, null, 4);
        }

        // Draw detection boxes on the image
        function drawDetectionBoxes() {
            // Clear existing boxes
            clearDetectionOverlay();
            
            if (!analysisResults.objects || analysisResults.objects.length === 0) {
                return;
            }
            
            const imagePreview = document.getElementById('image-preview');
            const overlayContainer = document.querySelector('.detection-overlay');
            
            // Generate random positions for demo (in a real app, these would come from the AI)
            analysisResults.objects.forEach((obj, index) => {
                // Create random bounding box (for demo purposes)
                const width = 60 + Math.random() * 30;
                const height = 60 + Math.random() * 30;
                const left = 10 + Math.random() * 70;
                const top = 10 + Math.random() * 70;
                
                // Colors for different object types
                const colors = {
                    'person': '#f72585',
                    'car': '#4361ee',
                    'tree': '#4cc9f0',
                    'building': '#7209b7',
                    'default': '#f8961e'
                };
                
                const color = colors[obj.name] || colors.default;
                
                const box = document.createElement('div');
                box.className = 'detection-box';
                box.style.cssText = `
                    position: absolute;
                    left: ${left}%;
                    top: ${top}%;
                    width: ${width}px;
                    height: ${height}px;
                    border-color: ${color};
                    color: white;
                    background: ${color}40;
                    z-index: 10;
                `;
                
                const label = document.createElement('div');
                label.style.cssText = `
                    position: absolute;
                    top: -25px;
                    left: 0;
                    background: ${color};
                    padding: 2px 8px;
                    border-radius: 4px;
                    font-size: 11px;
                    white-space: nowrap;
                `;
                label.textContent = `${obj.name} ${Math.round(obj.confidence * 100)}%`;
                
                box.appendChild(label);
                overlayContainer.appendChild(box);
                detectionBoxes.push(box);
            });
        }

        // Clear detection overlay
        function clearDetectionOverlay() {
            detectionBoxes.forEach(box => {
                if (box.parentNode) {
                    box.parentNode.removeChild(box);
                }
            });
            detectionBoxes = [];
        }

        // Switch between result tabs
        function switchResultTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab[data-result-tab]').forEach(tab => {
                tab.classList.remove('active');
                if (tab.getAttribute('data-result-tab') === tabName) {
                    tab.classList.add('active');
                }
            });
            
            // Update tab content
            document.querySelectorAll('.tab-content[data-result-content]').forEach(content => {
                content.classList.remove('active');
                if (content.getAttribute('data-result-content') === tabName) {
                    content.classList.add('active');
                }
            });
        }

        // Load dashboard chart
        function loadDashboardChart() {
            const ctx = document.getElementById('analyticsChart').getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.dashboardChart) {
                window.dashboardChart.destroy();
            }
            
            const data = {
                labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                datasets: [
                    {
                        label: 'Images Analyzed',
                        data: [45, 62, 58, 71, 85, 52, 48],
                        borderColor: '#4361ee',
                        backgroundColor: 'rgba(67, 97, 238, 0.1)',
                        tension: 0.4,
                        fill: true
                    },
                    {
                        label: 'Analyses Performed',
                        data: [120, 145, 138, 162, 190, 135, 128],
                        borderColor: '#f72585',
                        backgroundColor: 'rgba(247, 37, 133, 0.1)',
                        tension: 0.4,
                        fill: true
                    }
                ]
            };
            
            window.dashboardChart = new Chart(ctx, {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                drawBorder: false
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // Load objects chart
        function loadObjectsChart() {
            const ctx = document.getElementById('objectsChart').getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.objectsChart) {
                window.objectsChart.destroy();
            }
            
            if (!analysisResults.objects || analysisResults.objects.length === 0) {
                return;
            }
            
            // Prepare data for chart
            const objectNames = analysisResults.objects.map(obj => obj.name);
            const objectConfidences = analysisResults.objects.map(obj => obj.confidence * 100);
            
            const colors = [
                'rgba(67, 97, 238, 0.7)',
                'rgba(247, 37, 133, 0.7)',
                'rgba(76, 201, 240, 0.7)',
                'rgba(114, 9, 183, 0.7)',
                'rgba(248, 150, 30, 0.7)'
            ];
            
            window.objectsChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: objectNames,
                    datasets: [{
                        label: 'Confidence %',
                        data: objectConfidences,
                        backgroundColor: colors.slice(0, objectNames.length),
                        borderColor: colors.slice(0, objectNames.length).map(color => color.replace('0.7', '1')),
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // Load faces chart
        function loadFacesChart() {
            const ctx = document.getElementById('facesChart').getContext('2d');
            
            // Destroy existing chart if it exists
            if (window.facesChart) {
                window.facesChart.destroy();
            }
            
            if (!analysisResults.faces || analysisResults.faces.length === 0) {
                return;
            }
            
            // Count emotions
            const emotionCounts = {};
            analysisResults.faces.forEach(face => {
                emotionCounts[face.emotion] = (emotionCounts[face.emotion] || 0) + 1;
            });
            
            const emotions = Object.keys(emotionCounts);
            const counts = Object.values(emotionCounts);
            
            const colors = {
                'happy': 'rgba(76, 201, 240, 0.7)',
                'neutral': 'rgba(108, 117, 125, 0.7)',
                'sad': 'rgba(67, 97, 238, 0.7)',
                'surprised': 'rgba(247, 37, 133, 0.7)',
                'angry': 'rgba(248, 150, 30, 0.7)',
                'fearful': 'rgba(114, 9, 183, 0.7)'
            };
            
            const backgroundColors = emotions.map(emotion => colors[emotion] || 'rgba(108, 117, 125, 0.7)');
            
            window.facesChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: emotions.map(emotion => emotion.charAt(0).toUpperCase() + emotion.slice(1)),
                    datasets: [{
                        data: counts,
                        backgroundColor: backgroundColors,
                        borderColor: backgroundColors.map(color => color.replace('0.7', '1')),
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right'
                        }
                    }
                }
            });
        }

        // Utility functions
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
        }

        function animateValue(elementId, target, duration, isPercent = false, suffix = '') {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            const start = 0;
            const increment = target / (duration / 16); // 60fps
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                
                if (isPercent) {
                    element.textContent = current.toFixed(1) + '%';
                } else {
                    element.textContent = Math.floor(current) + suffix;
                }
            }, 16);
        }

        function incrementStat(statId) {
            const element = document.getElementById(statId);
            if (!element) return;
            
            let currentValue = parseInt(element.textContent.replace(/[^0-9]/g, ''));
            if (isNaN(currentValue)) currentValue = 0;
            
            element.textContent = (currentValue + 1).toLocaleString();
            
            // Add animation effect
            element.style.transform = 'scale(1.2)';
            element.style.color = 'var(--success)';
            
            setTimeout(() => {
                element.style.transform = 'scale(1)';
                element.style.color = '';
            }, 300);
        }

        function addActivityItem(type, description) {
            const activityList = document.getElementById('activity-list');
            
            const activityIcons = {
                'upload': { icon: 'fas fa-upload', class: 'upload' },
                'analysis': { icon: 'fas fa-brain', class: 'analysis' },
                'detection': { icon: 'fas fa-user-friends', class: 'detection' }
            };
            
            const iconInfo = activityIcons[type] || { icon: 'fas fa-info-circle', class: 'upload' };
            
            const activityItem = document.createElement('li');
            activityItem.className = 'activity-item';
            activityItem.innerHTML = `
                <div class="activity-icon ${iconInfo.class}">
                    <i class="${iconInfo.icon}"></i>
                </div>
                <div class="activity-details">
                    <h5>${type.charAt(0).toUpperCase() + type.slice(1)} completed</h5>
                    <p>${description}</p>
                    <span class="activity-time">Just now</span>
                </div>
            `;
            
            // Add to top of list
            if (activityList.firstChild) {
                activityList.insertBefore(activityItem, activityList.firstChild);
            } else {
                activityList.appendChild(activityItem);
            }
            
            // Limit list to 5 items
            while (activityList.children.length > 5) {
                activityList.removeChild(activityList.lastChild);
            }
            
            // Update notification badge
            const badge = document.querySelector('.notification-badge');
            if (badge) {
                let count = parseInt(badge.textContent);
                if (isNaN(count)) count = 0;
                badge.textContent = count + 1;
            }
        }
    </script>
</body>
</html>
